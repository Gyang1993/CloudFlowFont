{"remainingRequest":"C:\\Users\\Administrator\\WebstormProjects\\workviewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\WebstormProjects\\workviewer\\src\\main.js","dependencies":[{"path":"C:\\Users\\Administrator\\WebstormProjects\\workviewer\\src\\main.js","mtime":1640327842864},{"path":"C:\\Users\\Administrator\\WebstormProjects\\workviewer\\babel.config.js","mtime":1639559223901},{"path":"C:\\Users\\Administrator\\WebstormProjects\\workviewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639559218056},{"path":"C:\\Users\\Administrator\\WebstormProjects\\workviewer\\node_modules\\babel-loader\\lib\\index.js","mtime":1639559218905}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJDOlxcVXNlcnNcXEFkbWluaXN0cmF0b3JcXFdlYnN0b3JtUHJvamVjdHNcXHdvcmt2aWV3ZXJcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgIkM6XFxVc2Vyc1xcQWRtaW5pc3RyYXRvclxcV2Vic3Rvcm1Qcm9qZWN0c1xcd29ya3ZpZXdlclxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJDOlxcVXNlcnNcXEFkbWluaXN0cmF0b3JcXFdlYnN0b3JtUHJvamVjdHNcXHdvcmt2aWV3ZXJcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiQzpcXFVzZXJzXFxBZG1pbmlzdHJhdG9yXFxXZWJzdG9ybVByb2plY3RzXFx3b3Jrdmlld2VyXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuZmluYWxseS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQXBwIGZyb20gJy4vQXBwLnZ1ZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInOwppbXBvcnQgRWxlbWVudFVJIGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgJ2VsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2luZGV4LmNzcyc7CmltcG9ydCB7IHBvc3RSZXF1ZXN0IH0gZnJvbSAiLi91dGlscy9hcGkiOwppbXBvcnQgeyBwdXRSZXF1ZXN0IH0gZnJvbSAiLi91dGlscy9hcGkiOwppbXBvcnQgeyBnZXRSZXF1ZXN0IH0gZnJvbSAiLi91dGlscy9hcGkiOwppbXBvcnQgeyBkZWxldGVSZXF1ZXN0IH0gZnJvbSAiLi91dGlscy9hcGkiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi9zdG9yZSI7CmltcG9ydCB7IGluaXRNZW51IH0gZnJvbSAiLi91dGlscy9tZW51TGlzdCI7CmltcG9ydCAnZm9udC1hd2Vzb21lL2Nzcy9mb250LWF3ZXNvbWUuY3NzJzsKVnVlLmNvbmZpZy5wcm9kdWN0aW9uVGlwID0gZmFsc2U7ClZ1ZS51c2UoRWxlbWVudFVJKTsKVnVlLnByb3RvdHlwZS5wb3N0UmVxdWVzdCA9IHBvc3RSZXF1ZXN0OwpWdWUucHJvdG90eXBlLnB1dFJlcXVlc3QgPSBwdXRSZXF1ZXN0OwpWdWUucHJvdG90eXBlLmdldFJlcXVlc3QgPSBnZXRSZXF1ZXN0OwpWdWUucHJvdG90eXBlLmRlbGV0ZVJlcXVlc3QgPSBkZWxldGVSZXF1ZXN0OyAvLyDliY3nva7lrojljasKCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5TdHInKSkgewogICAgLy8g6I635Y+W55So5oi35L+h5oGv77yM5Yik5pat5piv5ZCm55m75b2VCiAgICBpbml0TWVudShyb3V0ZXIsIHN0b3JlKTsgLy8g5Yid5aeL5YyW6I+c5Y2VCiAgICAvLyDliKTmlq3nlKjmiLfkv6Hmga/mmK/lkKblrZjlnKgKCiAgICBpZiAoIXdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpIHsKICAgICAgcmV0dXJuIGdldFJlcXVlc3QoJy9hZG1pbi9pbmZvJykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAvLyDlrZjlhaXnlKjmiLfkv6Hmga8KICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkocmVzcCkpOwogICAgICAgICAgbmV4dCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgbmV4dCgpOwogIH0gZWxzZSB7CiAgICBpZiAodG8ucGF0aCA9PT0gJy8nKSB7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoJy9yZWRpcmVjdD0nICsgdG8ucGF0aCk7CiAgICB9CiAgfQp9KTsKbmV3IFZ1ZSh7CiAgcm91dGVyOiByb3V0ZXIsCiAgc3RvcmU6IHN0b3JlLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKEFwcCk7CiAgfQp9KS4kbW91bnQoJyNhcHAnKTs="},{"version":3,"sources":["C:/Users/Administrator/WebstormProjects/workviewer/src/main.js"],"names":["Vue","App","router","ElementUI","postRequest","putRequest","getRequest","deleteRequest","store","initMenu","config","productionTip","use","prototype","beforeEach","to","from","next","window","sessionStorage","getItem","then","resp","setItem","JSON","stringify","path","render","h","$mount"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,sCAAP;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,UAAR,QAAyB,aAAzB;AACA,SAAQC,UAAR,QAAyB,aAAzB;AACA,SAAQC,aAAR,QAA4B,aAA5B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAO,mCAAP;AAEAT,GAAG,CAACU,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAX,GAAG,CAACY,GAAJ,CAAQT,SAAR;AACAH,GAAG,CAACa,SAAJ,CAAcT,WAAd,GAA4BA,WAA5B;AACAJ,GAAG,CAACa,SAAJ,CAAcR,UAAd,GAA2BA,UAA3B;AACAL,GAAG,CAACa,SAAJ,CAAcP,UAAd,GAA2BA,UAA3B;AACAN,GAAG,CAACa,SAAJ,CAAcN,aAAd,GAA8BA,aAA9B,C,CAEA;;AACAL,MAAM,CAACY,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAH,EAA8C;AAAE;AAC9CX,IAAAA,QAAQ,CAACP,MAAD,EAAQM,KAAR,CAAR,CAD4C,CACpB;AACxB;;AACA,QAAI,CAACU,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,MAA9B,CAAL,EAA4C;AAC1C,aAAOd,UAAU,CAAC,aAAD,CAAV,CAA0Be,IAA1B,CAA+B,UAAAC,IAAI,EAAE;AAC1C,YAAGA,IAAH,EAAS;AACP;AACAJ,UAAAA,MAAM,CAACC,cAAP,CAAsBI,OAAtB,CAA8B,MAA9B,EAAsCC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAtC;AACAL,UAAAA,IAAI;AACL;AACF,OANM,CAAP;AAOD;;AACDA,IAAAA,IAAI;AAEL,GAdD,MAcO;AACL,QAAIF,EAAE,CAACW,IAAH,KAAY,GAAhB,EAAqB;AACnBT,MAAAA,IAAI;AACL,KAFD,MAEO;AACLA,MAAAA,IAAI,CAAC,eAAeF,EAAE,CAACW,IAAnB,CAAJ;AACD;AACF;AACF,CAtBD;AAwBA,IAAI1B,GAAJ,CAAQ;AACNE,EAAAA,MAAM,EAANA,MADM;AAENM,EAAAA,KAAK,EAALA,KAFM;AAGNmB,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAC3B,GAAD,CAAL;AAAA;AAHH,CAAR,EAIG4B,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport {postRequest} from \"./utils/api\";\r\nimport {putRequest} from \"./utils/api\";\r\nimport {getRequest} from \"./utils/api\";\r\nimport {deleteRequest} from \"./utils/api\";\r\nimport store from \"./store\"\r\nimport {initMenu} from \"./utils/menuList\";\r\nimport 'font-awesome/css/font-awesome.css'\r\n\r\nVue.config.productionTip = false\r\nVue.use(ElementUI)\r\nVue.prototype.postRequest = postRequest\r\nVue.prototype.putRequest = putRequest\r\nVue.prototype.getRequest = getRequest\r\nVue.prototype.deleteRequest = deleteRequest\r\n\r\n// 前置守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  if(window.sessionStorage.getItem('tokenStr')) { // 获取用户信息，判断是否登录\r\n    initMenu(router,store); // 初始化菜单\r\n    // 判断用户信息是否存在\r\n    if (!window.sessionStorage.getItem('user')) {\r\n      return getRequest('/admin/info').then(resp=>{\r\n        if(resp) {\r\n          // 存入用户信息\r\n          window.sessionStorage.setItem('user', JSON.stringify(resp));\r\n          next();\r\n        }\r\n      })\r\n    }\r\n    next();\r\n\r\n  } else {\r\n    if (to.path === '/') {\r\n      next();\r\n    } else {\r\n      next('/redirect=' + to.path);\r\n    }\r\n  }\r\n})\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"]}]}